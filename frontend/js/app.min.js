(()=>{"use strict";function e(){!function(){const e=document.getElementById("formHeadBtn"),t=document.getElementById("formTailBtn"),n=document.querySelector("body"),o=document.getElementById("ordersTable"),l=document.getElementById("formHeadInput"),s=document.getElementById("formTailInput"),i=document.getElementById("errorFieldHead"),r=document.getElementById("errorFieldTail");let c=0;const d=document.getElementById("popUpTakeBet"),u=d.querySelector(".pop-up_ttl"),a=d.querySelector(".bet-value"),m=document.getElementById("popupConfirmBtn"),p=document.getElementById("ruletConfirmBtn"),f=document.getElementById("totalFlips"),L=document.getElementById("topBid"),y=document.getElementById("tailDisplay"),_=document.getElementById("headDisplay");let E=0,T=0,h=0,g=0;function v(){document.querySelector(".--js_open-pop-up").classList.remove("--js_open-pop-up"),n.classList.remove("--js-lock__body")}function j(){let e=document.querySelectorAll(".orders__row"),t=document.querySelector(".orders_table"),n=[...e].sort((function(e,t){return t.children[1].innerHTML.replace(/[^0-9]/gim,"")-e.children[1].innerHTML.replace(/[^0-9]/gim,"")}));t.innerHTML="";for(let e of n)t.appendChild(e)}function H(e,t){c>1e5&&(c=0),c++;let l=document.createElement("ul");l.id="orders"+c,l.className="orders__row",o.prepend(l);let s=document.createElement("li");s.className="orders__coin",s.innerHTML=e,l.append(s);let i=document.createElement("li");i.className="orders__flips",i.innerHTML=t,l.append(i);let r=document.createElement("span");r.innerHTML=" NEAR",i.append(r);let L=document.createElement("li");L.className="orders__time",L.innerHTML="30 min",l.append(L);let v=document.createElement("li");v.className="orders_table__btn",l.append(v);let j=document.createElement("a");j.setAttribute("href","#!"),j.innerHTML="accept a bid and flip",v.append(j),function(e,t,o,l){o="Tail"==o?"Head":"Tail";let s=0;l.addEventListener("click",(function(){if(e)return d.classList.add("--js_open-pop-up"),n.classList.add("--js-lock__body"),u.innerHTML=o,a.innerHTML=t+" NEAR",void m.addEventListener("click",(function t(l){m.removeEventListener("click",t,!1);let i=new Date;if(i-s>3e4){function r(){l.preventDefault(),e&&(d.classList.remove("--js_open-pop-up"),n.classList.remove("--js-lock__body"),function(e,t){const o=document.getElementById("popUpCoinRulet"),l=o.querySelector(".btn"),s=o.querySelector(".pop-up__coin"),i=o.querySelector(" .-js_coin-roulette__result");let r=null;const c=o.querySelector(".pop-up_ttl"),d=o.querySelector(".pop-up_sub-ttl");o.classList.add("--js_open-pop-up"),n.classList.add("--js-lock__body"),s.classList.add("-js_anm"),setTimeout((()=>s.classList.remove("-js_anm")),3200),setTimeout((()=>l.classList.remove("--js_hide")),3100),setTimeout((()=>p.classList.remove("--js_hide")),3100);let u=2*Math.random();function a(){let e=500;h++,setTimeout((()=>f.innerHTML=h),e),g=0,u<1&&(E++,setTimeout((()=>_.innerHTML=E),e)),u>=1&&(T++,setTimeout((()=>y.innerHTML=T),e))}function m(){"Success!"==r?(c.innerHTML="Success!",d.innerHTML="You won...",c.classList.remove("--js_hide"),d.classList.remove("--js_hide")):(c.innerHTML="fail",d.innerHTML="You have lost...",c.classList.remove("--js_hide"),d.classList.remove("--js_hide"))}1==u&&(u=2*Math.random()),u<1&&setTimeout((()=>i.innerHTML="HEAD"),3e3),u>=1&&setTimeout((()=>i.innerHTML="TAIL"),3e3),"Head"==e&&u<1&&(r="Success!"),"Tail"==e&&u>=1&&(r="fail..."),"Tail"==e&&u<1&&(r="fail..."),"Tail"==e&&u>=1&&(r="Success!"),a(),setTimeout((()=>m()),3e3),l.addEventListener("click",(function(e){e.preventDefault(),i.innerHTML="",l.classList.add("--js_hide"),c.classList.add("--js_hide"),d.classList.add("--js_hide"),p.classList.add("--js_hide"),c.innerHTML="",d.innerHTML=""}))}(o),e.remove())}s=i,setTimeout((()=>r()),200)}}))}))}(l,t,e,v),function(e){if(e){let t=e.childNodes[2];function n(){let n=t.innerHTML.replace(/[^0-9]/gim,"")-1;t.innerHTML=n+" min",0==n&&e.remove()}setInterval(n,6e4)}}(l)}e.addEventListener("click",(function(){let e=l.value;if(!isNaN(e)&&e>=1)return i.innerHTML="",e=Math.floor(100*e)/100,v(),H("Head",e),e>g&&(g=e,L.innerHTML=e+" NEAR"),l.value="",void j();i.innerHTML="Error! Enter the number more than 1"})),t.addEventListener("click",(function(){let e=s.value;if(!isNaN(e)&&e>=1)return r.innerHTML="",e=Math.floor(100*e)/100,v(),H("Tail",e),e>g&&(g=e,L.innerHTML=e+" NEAR"),s.value="",void j();r.innerHTML="Error! Enter the number more than 1"}))}(),document.querySelectorAll(".--js-popup").forEach((e=>{const t=e.querySelector(".-js_enter");t&&document.addEventListener("keyup",(function(n){n.preventDefault(),13==n.keyCode&&e.classList.contains("--js_open-pop-up")&&!t.classList.contains("--js_hide")&&t.click()}))})),function(){const e=document.getElementById("formHeadInput"),t=document.getElementById("formTailInput");function n(e){e.addEventListener("keypress",(function(e){"Enter"===e.key&&e.preventDefault()}))}n(e),n(t)}()}!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(){(function(){const e=document.querySelectorAll(".--js_link"),t=document.querySelector("body"),n=document.querySelectorAll(".--js_fixed"),o=document.querySelectorAll(".--js-popup_close");let l=!0;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");s(document.getElementById(t)),e.preventDefault()}))}if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){i(t.closest(".--js-popup")),e.preventDefault()}))}function s(e){if(e&&l){const o=document.querySelector(".--js-popup.--js_open-pop-up");o?i(o,!1):function(){const e=window.innerWidth-document.querySelector(".popup-wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++)n[t].style.paddingRight=e;if(t.classList.add("--js-lock__body"),l=!1,setTimeout((function(){l=!0}),0),n.length>0)for(let t=0;t<n.length;t++)n[t].getElementsByClassName.paddingRight=e;t.classList.add("--js-lock__body"),l=!1,setTimeout((function(){l=!0}),0)}(),e.classList.add("--js_open-pop-up")}}function i(e,o=!0){l&&(e.classList.remove("--js_open-pop-up"),o&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.classList.remove("--js-lock__body")}),0),l=!1,setTimeout((function(){l=!0}),0)))}document.addEventListener("keydown",(function(e){27===e.which&&i(document.querySelector(".--js-popup.--js_open-pop-up"))})),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.matchesSelector)})(),e()}))})();